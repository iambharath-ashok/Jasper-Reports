#	JasperReports

-	JasperReports is an open source java reporting engine
-	JasperReports is a Java class library, and it is meant for reporting capabilities to their applications
-	JasperReports has the ability to deliver rich content onto the screen, to the printer, or into PDF, HTML, XLS, RTF, ODT, CSV, TXT, and XML files
-	JasperReports is a pure Java library and not a standalone application. It cannot run on its own, hence it needs to be embedded into another client or server-side Java application
-	JasperReports bundle will have lots of examples which we can use as reference
-	


##	Features of JasperReports


-	It has a flexible report layout.

	-	title
	-	pageHeader
	-	columnHeader
	-	detail
	-	columnFooter
	-	pageFooter
	-	summary
	
-	It can present data either textually or graphically
-	Developers can supply data in multiple ways
-	It can accept data from the multiple data sources
-	It can generate watermarks (A watermark is like a secondary image that is laid over the primary image)
-	It can generate sub reports and complex reports
-	It is capable of exporting reports in a variety of formats
-	

##	Maven Dependency


			<dependency>
				<groupId>net.sf.jasperreports</groupId>
				<artifactId>jasperreports</artifactId>
				<version>6.4.0</version>
			</dependency>

##	JasperReport Bundle

-	JasperReport bundle consists of source code, jar, examples, docs, lib with dependent jars

	-	build 
	-	demo 
	-	dist 
	-	docs 
	-	lib 
	-	src 
	


##	Jasper Managers Classes


-	Jasper API provides number of classes, which will be used to compile a JRXML report design, to fill a report, to print a report, to export to PDF, HTML & XML files, view the generated reports, and report design

![](https://www.tutorialspoint.com/jasper_reports/images/report_manage_classes.jpg)

-	net.sf.jasperreports.engine.JasperCompileManager:
	-	Used to compile a JRXML report template.
	
-	net.sf.jasperreports.engine.JasperFillManager:
	-	Used to fill a report with data from the data source.
	
-	net.sf.jasperreports.engine.JasperPrintManager:
	-	Used to print the documents generated by the JasperReports library
	
-	net.sf.jasperreports.engine.JasperExportManager
	-	Used to obtain PDF, HTML, or XML content for the documents produced by the report-filling process
	
-	net.sf.jasperreports.view.JasperViewer − It represents a simple Java Swing application, which can load and display reports.

-	net.sf.jasperreports.view.JasperDesignViewer − Used at design time to preview the report templates.



##	Life Cycle of Jasper Reports 


![](https://www.tutorialspoint.com/jasper_reports/images/jasperreport_lifecycle.jpg)

-	Designing the report
	-	In this step we, create the JRXML file, which is an XML document that contains the definition of the report layout
	-	We can use any text editor or iReportDesigner
	-	If iReportDesigner is used, the layout is designed in a visual way, 
	
-	Compiling the report

	-	In this step, JRXML is compiled in a binary object called a Jasper file (*.jasper)
	-	This compilation is done for performance reasons
	
-	Executing the report (Filling data into the report)
	-	In this step, data from the application is filled in the compiled report
	-	The class net.sf.jasperreports.engine.JasperFillManager provides necessary functions to fill the data in the reports.
	-	A Jasper print file (*.jrprint) is created, which can be used either to print or export the report
	
-	Exporting the report to desired format
	-	 In this step, we can export the Jasper print file created in the previous step to any format using JasperExportManager
	
	
##	Designing Jasper Reports

-	We can Japser reports through IReport or Jasper Studio
-	We can also use jasper eclipse plugin


##	Compiling Report Design

-	Compiling Report can be done via IReport or through programatically
-	jrxml file will compiled to generate .jasper file
-	we can also compile jrxml file via build process

		
				public class JasperReportCompile {

			   public static void main(String[] args) {
				  String sourceFileName = "C://tools/jasperreports-5.0.1/test" + 
					 "/jasper_report_template.jrxml";

				  System.out.println("Compiling Report Design ...");
				  try {
					  /**
					  * Compile the report to a file name same as
					  * the JRXML file name
					  */
					 JasperCompileManager.compileReportToFile(sourceFileName);
				  } catch (JRException e) {
					 e.printStackTrace();
				  }
				  System.out.println("Done compiling!!! ...");
			   }
			}


	


##	Filling Reports


-	The main inputs required for report-filling process are −


	-	Report Template − This is actual JasperReport file.
	-	Report Parameters − These are basically named values that are passed at the report filling time to the engine
	-	Data Source − We can fill a Jasper file from a range of datasources like an SQL query, an XML file, a csv file, an HQL (Hibernate Query Language) query, a collection of Java Beans, etc

			
			
			public class DataBeanList {
			   public ArrayList<DataBean> getDataBeanList() {
				  ArrayList<DataBean> dataBeanList = new ArrayList<DataBean>();

				  dataBeanList.add(produce("Manisha", "India"));
				  dataBeanList.add(produce("Dennis Ritchie", "USA"));
				  dataBeanList.add(produce("V.Anand", "India"));
				  dataBeanList.add(produce("Shrinath", "California"));

				  return dataBeanList;
			   }

			   /**
				* This method returns a DataBean object,
				* with name and country set in it.
				*/
			   private DataBean produce(String name, String country) {
				  DataBean dataBean = new DataBean();
				  dataBean.setName(name);
				  dataBean.setCountry(country);
				  
				  return dataBean;
			   }
			}

-	JasperFillManager


				public class JasperReportFill {
				   @SuppressWarnings("unchecked")
				   public static void main(String[] args) {
					  String sourceFileName = 
						 "c://tools/jasperreports-5.0.1/test/jasper_report_template.jasper";
					  DataBeanList DataBeanList = new DataBeanList();
					  ArrayList<DataBean> dataList = DataBeanList.getDataBeanList();

					  JRBeanCollectionDataSource beanColDataSource = new 
						 JRBeanCollectionDataSource(dataList);
					  Map parameters = new HashMap();
					  try {
						 JasperFillManager.fillReportToFile( 
							sourceFileName, parameters, beanColDataSource);
					  } catch (JRException e) {
						 e.printStackTrace();
					  }
				   }
				}




##	View & Print Reports

-	The output of the report filling process is  JasperPrint object
-	JasperPrint objects can be viewed using a built-in viewer component, or printed, or exported to more popular document formats like PDF, HTML, RTF, XLS, ODT, CSV, or XML


			public class JasperReportFill {
			   @SuppressWarnings("unchecked")
			   public static void main(String[] args) {
				  String sourceFileName = 
					 "c://tools/jasperreports-5.0.1/test/jasper_report_template.jasper";
				  DataBeanList DataBeanList = new DataBeanList();
				  ArrayList<DataBean> dataList = DataBeanList.getDataBeanList();

				  JRBeanCollectionDataSource beanColDataSource = new 
					 JRBeanCollectionDataSource(dataList);

				  Map parameters = new HashMap();
				  try {
					 JasperFillManager.fillReportToFile( 
						sourceFileName, parameters, beanColDataSource);
				  } catch (JRException e) {
					 e.printStackTrace();
				  }
			   }
			}

##	Printing Reports


-	We can print the documents generated by the JasperReports library (in their proprietary format i.e. JasperPrint objects) using the net.sf.jasperreports.engine.JasperPrintManager class

###	Printing the Generated Report

-	The following code demonstrates the printing of a report. Let's update our existing class JasperReportFill.
-	We will use JasperPrintManager.printReport() method. 
-	This method takes source file name (here we pass the .jrprint file, which we generate in the previous step using the method JasperFillManager.fillReportToFile()) as first parameter.
-	The second parameter is the boolean for displaying the standard print dialog (we have set it to true here).


				public class JasperReportFill {
				   @SuppressWarnings("unchecked")
				   public static void main(String[] args) {
					  String sourceFileName = "c://tools/jasperreports-5.0.1/" +
						 "test/jasper_report_template.jasper";
					  String printFileName = null;
					  DataBeanList DataBeanList = new DataBeanList();
					  ArrayList<DataBean> dataList = DataBeanList.getDataBeanList();

					  JRBeanCollectionDataSource beanColDataSource = new 
						 JRBeanCollectionDataSource(dataList);

					  Map parameters = new HashMap();
					  try {
						   printFileName = JasperFillManager.fillReportToFile( 
							sourceFileName, parameters, beanColDataSource);
						 if(printFileName != null){
							JasperPrintManager.printReport( printFileName, true);
						 }
					  } catch (JRException e) {
						 e.printStackTrace();
					  }
				   }
				}


##	Exporting to Other Formats

-	We can use JasperExportManager to export jprint objects filled with data into different formats

				public class JasperReportFill {
				
				   @SuppressWarnings("unchecked")
				   public static void main(String[] args) {
					  String sourceFileName = "c://tools/jasperreports-5.0.1/"
						 + "test/jasper_report_template.jasper";
					  String printFileName = null;
					  DataBeanList DataBeanList = new DataBeanList();
					  ArrayList<DataBean> dataList = DataBeanList.getDataBeanList();
					  JRBeanCollectionDataSource beanColDataSource =
						 new JRBeanCollectionDataSource(dataList);

					  Map parameters = new HashMap();
					  try {
						 printFileName = JasperFillManager.fillReportToFile(sourceFileName,
							parameters, beanColDataSource);
						 if (printFileName != null) {
							/**
							 * 1- export to PDF
							 */
							JasperExportManager.exportReportToPdfFile(printFileName,
							   "C://sample_report.pdf");

							/**
							 * 2- export to HTML
							 */
							JasperExportManager.exportReportToHtmlFile(printFileName,
							   "C://sample_report.html");

							/**
							 * 3- export to Excel sheet
							 */
							JRXlsExporter exporter = new JRXlsExporter();

							exporter.setParameter(JRExporterParameter.INPUT_FILE_NAME,
							   printFileName);
							exporter.setParameter(JRExporterParameter.OUTPUT_FILE_NAME,
							   "C://sample_report.xls");

							exporter.exportReport();
						 }
					  } catch (JRException e) {
						 e.printStackTrace();
					  }
				   }
				}








